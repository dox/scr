# Silence the directories
Options -Indexes

<IfModule mod_autoindex.c>
	IndexIgnore *
</IfModule>

# Apple touch icon redirects
RedirectMatch 301 ^/apple-touch-icon(-[0-9]+x[0-9]+)?(-precomposed)?\.png$ /assets/favicon/apple-touch-icon.png

# Custom 404 page
ErrorDocument 404 /index.php?page=404

# Block sensitive files
<FilesMatch "\.(env|ini|log|sql|bak|old|swp|yml|yaml|json|phps)$">
	Require all denied
</FilesMatch>

RewriteRule ^\.well-known/traffic-advice$ - [T=application/trafficadvice+json,END]

# Charset
AddDefaultCharset UTF-8

# Security headers
<IfModule mod_headers.c>
	Header always set X-Content-Type-Options "nosniff"
	Header always set X-Frame-Options "SAMEORIGIN"
	Header always set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>
